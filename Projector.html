<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="1600" height="1000" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML canvas tag.</canvas>

<button onclick="run(0)">NEXT SLIDE</button>


<script>
    var frames = [];
    //frames.push(['polygon3|327|135|327|135|327|135|3|#A5A5A5']);



    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    function blankCanvas() {
        ctx.clearRect(0, 0, c.width, c.height);
    }

    function drawCircle(x, y, radius, borderwidth,color) {
        ctx.beginPath();
        ctx.fillStyle = color;
        ctx.arc(x, y, radius, 0, 2*Math.PI);
        ctx.fill();
        ctx.lineWidth = borderwidth;
        ctx.strokeStyle = "#000000";
        ctx.stroke();
        ctx.closePath();

        ctx.fillStyle = "#000000";
    }

    function drawText (x, y, text, fontsize, color, font) {
        ctx.font = fontsize + "px " + font;
        ctx.fillText(text,x,y);
    }
    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");

    function run(frame) {
        if (frame != frames.length) {
            sleep(10)
                .then(() => blankCanvas())
                .then(() => run(frame + 1))
            for (j = 0; j < frames[frame].length; j++) {
                obj = frames[frame][j].split("|");
                console.log(obj)
                if (obj[0] == "circle") {
                    //console.log(Math.round(obj[1].replace(/\,/g,".")), Math.round(obj[2].replace(/\,/g,".")), Math.round(obj[3]))
                    drawCircle(Math.round(obj[1].replace(/\,/g,".")), Math.round(obj[2].replace(/\,/g,".")),  Math.round(obj[3].replace(/\,/g,".")), Math.round(obj[4]), obj[5]);
                }
            }

        } else {
            blankCanvas();
            drawText(0,300, "Slut for den 25 Ã¸re", 24,"red","sans");
        }
    }

</script> 

</body>
</html>